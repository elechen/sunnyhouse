{"version":3,"sources":["webpack:///./src/utils/utils.ts","webpack:///./src/views/Contract.vue?6d37","webpack:///./src/views/Contract.vue?4b15","webpack:///./src/views/Contract.vue?ce04","webpack:///./src/views/Contract.vue"],"names":["__webpack_require__","d","__webpack_exports__","IsAdmin","_models_user__WEBPACK_IMPORTED_MODULE_0__","u","ids","indexOf","openid","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","position","margin-right","width","display","attrs","src","registerData","headimgurl","_v","_s","name","font-size","color","_l","key","index","PropDesc","id","idimgurl","length","imgurl","style","background-image","on","click","$event","previewImg","_m","directives","rawName","value","formData","expression","required","type","placeholder","disabled","isAdmin","domProps","input","target","composing","$set","emptyTips","onSubmit","confirm","_e","onConfirm","staticRenderFns","for","weui","Contractvue_type_script_lang_ts_Contract","_super","Contract","_this","apply","arguments","tslib_es6","prototype","mounted","utils","RequestContractInfo","contractid","$route","query","host","define","api","vue_property_decorator","axios","get","then","response","data","console","log","code","RequestRegisterInfo","prop","register","gallery","form","validate","error","cf_1","hide","PostFormData","post","msg","alert","toast","setTimeout","$router","go","catch","reason","cf","PostConfirmData","Contractvue_type_script_lang_ts_","views_Contractvue_type_script_lang_ts_","component","Object","componentNormalizer","options","__file"],"mappings":"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","file":"js/contract.918ed07c.js","sourcesContent":["import * as user from '@/models/user';\n\nexport function IsAdmin() {\n  const u = user.get();\n  const ids: string[] = ['10000', 'o7tJq08kMDWwUfW9dBE7B-xjNC3w'];\n  if (u) {\n    return ids.indexOf(u.openid as string) !== -1;\n  }\n  return false;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Contract\"},[_c('div',{staticClass:\"weui-cells\"},[_c('div',{staticClass:\"weui-cell\"},[_c('div',{staticClass:\"weui-cell__hd\",staticStyle:{\"position\":\"relative\",\"margin-right\":\"10px\"}},[_c('img',{staticStyle:{\"width\":\"50px\",\"display\":\"block\"},attrs:{\"src\":_vm.registerData.headimgurl}})]),_c('div',{staticClass:\"weui-cell__bd\"},[_c('p',[_vm._v(_vm._s(_vm.registerData.name))]),_c('p',{staticStyle:{\"font-size\":\"13px\",\"color\":\"rgb(136, 136, 136)\"}},[_vm._v(\"签订电子合约\")])])])]),_c('div',{staticClass:\"weui-cells__title\"},[_vm._v(\"个人资料\")]),_c('div',{staticClass:\"weui-cells\"},[_vm._l((['name', 'id', 'phone']),function(key,index){return _c('div',{key:index,staticClass:\"weui-cell\"},[_c('div',{staticClass:\"weui-cell__bd\"},[_c('p',[_vm._v(_vm._s(_vm.PropDesc(key)))])]),_c('div',{staticClass:\"weui-cell__ft\"},[_vm._v(_vm._s(_vm.registerData[key]))])])}),_c('div',{staticClass:\"weui-cell\",attrs:{\"id\":\"uploaderCustom\"}},[_c('div',{staticClass:\"weui-cell__bd\"},[_c('div',{staticClass:\"weui-uploader\"},[_c('div',{staticClass:\"weui-uploader__hd\"},[_c('p',{staticClass:\"weui-uploader__title\"},[_vm._v(\"身份证正反面照片(\"+_vm._s(_vm.registerData.idimgurl ? _vm.registerData.idimgurl.length : 0)+\"/2)\")])]),_c('div',{staticClass:\"weui-uploader__bd\"},[_c('ul',{staticClass:\"weui-uploader__files\",attrs:{\"id\":\"uploaderCustomFiles\"}},_vm._l((_vm.registerData.idimgurl),function(imgurl,index){return _c('li',{key:index,staticClass:\"weui-uploader__file\",style:({'background-image': 'url(' + imgurl + ')'}),on:{\"click\":function($event){_vm.previewImg(imgurl)}}})}),0)])])])])],2),_c('div',{attrs:{\"id\":\"form\"}},[_c('div',{staticClass:\"weui-cells__title\"},[_vm._v(\"电子合约详情\")]),_c('div',{staticClass:\"weui-cells weui-cells_form\"},[_c('div',{staticClass:\"weui-cell\"},[_vm._m(0),_c('div',{staticClass:\"weui-cell__bd\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.room),expression:\"formData.room\"}],staticClass:\"weui-input\",attrs:{\"required\":\"\",\"type\":\"number\",\"placeholder\":\"请输入房间号\",\"disabled\":!_vm.isAdmin},domProps:{\"value\":(_vm.formData.room)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"room\", $event.target.value)}}})])]),_c('div',{staticClass:\"weui-cell\"},[_vm._m(1),_c('div',{staticClass:\"weui-cell__bd\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.rent),expression:\"formData.rent\"}],staticClass:\"weui-input\",attrs:{\"required\":\"\",\"type\":\"number\",\"placeholder\":\"请输入月租\",\"disabled\":!_vm.isAdmin},domProps:{\"value\":(_vm.formData.rent)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"rent\", $event.target.value)}}})])]),_c('div',{staticClass:\"weui-cell\"},[_vm._m(2),_c('div',{staticClass:\"weui-cell__bd\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.watercnt),expression:\"formData.watercnt\"}],staticClass:\"weui-input\",attrs:{\"required\":\"\",\"type\":\"number\",\"placeholder\":\"请输入水表读数\",\"disabled\":!_vm.isAdmin},domProps:{\"value\":(_vm.formData.watercnt)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"watercnt\", $event.target.value)}}})])]),_c('div',{staticClass:\"weui-cell\"},[_vm._m(3),_c('div',{staticClass:\"weui-cell__bd\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.electricitycnt),expression:\"formData.electricitycnt\"}],staticClass:\"weui-input\",attrs:{\"required\":\"\",\"type\":\"number\",\"placeholder\":\"请输入电表读数\",\"disabled\":!_vm.isAdmin},domProps:{\"value\":(_vm.formData.electricitycnt)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"electricitycnt\", $event.target.value)}}})])]),_c('div',{staticClass:\"weui-cell\"},[_vm._m(4),_c('div',{staticClass:\"weui-cell__bd\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.fromdate),expression:\"formData.fromdate\"}],staticClass:\"weui-input\",attrs:{\"type\":\"date\",\"required\":\"\",\"emptyTips\":\"请输入开始日期\",\"disabled\":!_vm.isAdmin},domProps:{\"value\":(_vm.formData.fromdate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"fromdate\", $event.target.value)}}})])]),_c('div',{staticClass:\"weui-cell\"},[_vm._m(5),_c('div',{staticClass:\"weui-cell__bd\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.todate),expression:\"formData.todate\"}],staticClass:\"weui-input\",attrs:{\"type\":\"date\",\"required\":\"\",\"emptyTips\":\"请输入结束日期\",\"disabled\":!_vm.isAdmin},domProps:{\"value\":(_vm.formData.todate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"todate\", $event.target.value)}}})])]),_vm._m(6),_vm._m(7),_vm._m(8),_vm._m(9)])]),(_vm.isAdmin)?_c('div',{staticClass:\"weui-btn-area\"},[_c('a',{staticClass:\"weui-btn weui-btn_primary\",on:{\"click\":_vm.onSubmit}},[_vm._v(\"生成合约\")])]):(!_vm.formData.confirm)?_c('div',{staticClass:\"weui-btn-area\"},[_c('a',{staticClass:\"weui-btn weui-btn_primary\",on:{\"click\":_vm.onConfirm}},[_vm._v(\"签订合约\")])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"weui-cell__hd\"},[_c('label',{staticClass:\"weui-label\"},[_vm._v(\"房间号\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"weui-cell__hd\"},[_c('label',{staticClass:\"weui-label\"},[_vm._v(\"月租\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"weui-cell__hd\"},[_c('label',{staticClass:\"weui-label\"},[_vm._v(\"水表读数\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"weui-cell__hd\"},[_c('label',{staticClass:\"weui-label\"},[_vm._v(\"电表读数\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"weui-cell__hd\"},[_c('label',{staticClass:\"weui-label\",attrs:{\"for\":\"\"}},[_vm._v(\"开始日期\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"weui-cell__hd\"},[_c('label',{staticClass:\"weui-label\",attrs:{\"for\":\"\"}},[_vm._v(\"结束日期\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"weui-cell\"},[_c('div',{staticClass:\"weui-cell__hd\"},[_c('label',{staticClass:\"weui-label\"},[_vm._v(\"水费\")])]),_c('div',{staticClass:\"weui-cell__bd\"},[_c('input',{staticClass:\"weui-input\",attrs:{\"value\":\"2.5元/方\",\"disabled\":\"disabled\"}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"weui-cell\"},[_c('div',{staticClass:\"weui-cell__hd\"},[_c('label',{staticClass:\"weui-label\"},[_vm._v(\"电费\")])]),_c('div',{staticClass:\"weui-cell__bd\"},[_c('input',{staticClass:\"weui-input\",attrs:{\"value\":\"1.5元/度\",\"disabled\":\"disabled\"}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"weui-cell\"},[_c('div',{staticClass:\"weui-cell__hd\"},[_c('label',{staticClass:\"weui-label\"},[_vm._v(\"押金\")])]),_c('div',{staticClass:\"weui-cell__bd\"},[_c('input',{staticClass:\"weui-input\",attrs:{\"value\":\"押一付一\",\"disabled\":\"disabled\"}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"weui-cell\"},[_c('div',{staticClass:\"weui-cell__hd\"},[_c('label',{staticClass:\"weui-label\"},[_vm._v(\"其他\")])]),_c('div',{staticClass:\"weui-cell__bd\"},[_c('input',{staticClass:\"weui-input\",attrs:{\"value\":\"代村收垃圾处理费5元/月\",\"disabled\":\"disabled\"}})])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nconst weui = require('weui.js');\nimport * as user from '@/models/user';\nimport * as register from '@/models/register';\nimport * as contract from '@/models/contract';\nimport * as define from '@/defines/define';\nimport * as utils from '@/utils/utils';\n\n@Component\nexport default class Contract extends Vue {\n  private registerData: register.DATA = {};\n  private formData: contract.DATA = {};\n  private isAdmin = false;\n  private mounted() {\n    this.isAdmin = utils.IsAdmin();\n    this.RequestContractInfo();\n  }\n  private RequestContractInfo() {\n    const contractid = this.$route.query.contractid;\n    const openid = this.$route.query.openid as string;\n    if (contractid) {\n      const host = define.API_HOST;\n      const api = host + '/sunnyhouse/contract?contractid=' + contractid;\n      Vue.axios.get(api).then((response) => {\n        const data = response.data;\n        console.log('ContractInfo', data);\n        if (data && data.code === 'SUCCESS') {\n          this.formData = data.data as contract.DATA;\n          this.RequestRegisterInfo(this.formData.openid);\n        }\n      });\n    } else if (openid) {\n      this.RequestRegisterInfo(openid);\n    }\n  }\n\n  private RequestRegisterInfo(openid?: string) {\n    const host = define.API_HOST;\n    const api = host + '/sunnyhouse/register?openid=' + openid;\n    Vue.axios.get(api).then((response) => {\n      const data = response.data;\n      console.log('RegisterInfo', data);\n      if (data && data.code === 'SUCCESS') {\n        this.formData.openid = openid;\n        this.registerData = data.data as register.DATA;\n      }\n    });\n  }\n\n  private PropDesc(prop: string): string {\n    return register.PropDesc[prop];\n  }\n\n  private previewImg(imgurl: string) {\n    weui.gallery(imgurl);\n  }\n\n  private onSubmit() {\n    weui.form.validate('#form', (error: { dom: object, msg: string }) => {\n      if (!error) {\n        const cf = weui.confirm('确定提交？', () => {\n          cf.hide(this.PostFormData); // 设置为回调解决weui提示框问题\n        });\n      } else {\n        console.log(error);\n      }\n    },\n    );\n  }\n\n  private PostFormData() {\n    const host = define.API_HOST;\n    const api = host + '/sunnyhouse/contract';\n    console.log('PostFormData', api, this.formData);\n    Vue.axios.post(api, this.formData).then((response) => {\n      const data = response.data;\n      console.log('PostFormDataRes', data);\n      if (data.code === 'SUCCESS') {\n        if (data.msg) {\n          weui.alert('提交异常:' + data.msg);\n        } else {\n          weui.toast('提交成功', 1000);\n          const contractid = data.data.contractid;\n          setTimeout(() => {\n            this.$router.go(-1);\n          }, 1000);\n        }\n      } else {\n        weui.alert('服务器异常:' + response);\n      }\n    }).catch((reason) => {\n      console.log(reason);\n      weui.alert('网络异常:' + reason);\n    });\n  }\n\n  private onConfirm() {\n    const cf = weui.confirm('确定签订合约吗？', () => {\n      cf.hide(this.PostConfirmData);\n    });\n  }\n\n  private PostConfirmData() {\n    const host = define.API_HOST;\n    const api = host + '/sunnyhouse/contract/confirm';\n    const contractid = this.formData.contractid;\n    console.log('onConfirm', api, contractid);\n    Vue.axios.post(api, { contractid }).then((response) => {\n      const data = response.data;\n      console.log('ConfirmRes', data);\n      if (data.code === 'SUCCESS') {\n        if (data.msg) {\n          weui.alert('提交异常:' + data.msg);\n        } else {\n          weui.toast('合约签订成功', 1000);\n          this.RequestContractInfo();\n        }\n      } else {\n        weui.alert('服务器异常:' + response);\n      }\n    }).catch((reason) => {\n      console.log(reason);\n      weui.alert('网络异常:' + reason);\n    });\n  }\n}\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Contract.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Contract.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Contract.vue?vue&type=template&id=5a9fe050&\"\nimport script from \"./Contract.vue?vue&type=script&lang=ts&\"\nexport * from \"./Contract.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Contract.vue\"\nexport default component.exports"],"sourceRoot":""}