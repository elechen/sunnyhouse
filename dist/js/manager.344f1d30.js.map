{"version":3,"sources":["webpack:///./src/views/Manager.vue?fc8f","webpack:///./src/views/Manager.vue?6e35","webpack:///./src/views/Manager.vue?028d","webpack:///./src/views/Manager.vue","webpack:///./src/models/register.ts","webpack:///./src/views/Manager.vue?ef8b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","transform-style","on","click","$event","show","_v","attrs","src","alt","enter-active-class","_l","v","idx","key","showPage","state","style","selected","_s","name","_e","pageName","class","classObject","filerUser","length","position","margin-right","width","height","display","headimgurl","showContract","font-size","color","shortdesc","_m","staticRenderFns","CONTRACT_STATE","Managervue_type_script_lang_ts_Manager","_super","Manager","_this","apply","arguments","curState","register","reviewed","btns","reviewing","left","contract","userInfo","loginUser","openid","newContract","tslib_es6","prototype","mounted","user","RequestRegisterData","RequestNewContractData","host","define","api","vue_property_decorator","axios","get","then","response","data","console","log","code","forEach","element","showSwitchAni","tmpcontractid","$router","push","setTimeout","Object","defineProperty","userInfoList","_i","_a","c","_b","u","contractid","room","_d","one","Managervue_type_script_lang_ts_","views_Managervue_type_script_lang_ts_","component","componentNormalizer","options","__file","__webpack_exports__","STATE","StateDesc","PropDesc","id","phone","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Manager_vue_vue_type_style_index_0_id_e000bffe_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Manager_vue_vue_type_style_index_0_id_e000bffe_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/manager.344f1d30.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"manager\",staticStyle:{\"transform-style\":\"preserve-3d\"}},[_c('div',{staticClass:\"weui-flex category\",on:{\"click\":function($event){_vm.show=!_vm.show}}},[_c('p',{staticClass:\"weui-flex__item\"},[_vm._v(\"菜单\")]),_c('img',{attrs:{\"src\":\"https://weui.io/images/icon_nav_form.png\",\"alt\":\"\"}})]),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeInDown faster\"}},[(_vm.show)?_c('nav',{staticClass:\"weui-cells weui-cells-first\"},_vm._l((_vm.btns),function(v,idx){return _c('a',{key:idx,staticClass:\"weui-cell weui-cell_access\",on:{\"click\":function($event){_vm.showPage(v.state)}}},[_c('div',{staticClass:\"weui-cell__bd\"},[_c('p',{style:(!v.selected ? 'color: #888888;' : '')},[_vm._v(_vm._s(v.name))])]),_c('div',{staticClass:\"weui-cell__ft\"})])}),0):_vm._e()]),_c('div',{staticClass:\"weui-cells__title\"},[_vm._v(_vm._s(_vm.pageName))]),_c('div',{staticClass:\"weui-cells\",class:_vm.classObject},[(_vm.filerUser.length > 0)?_c('div',_vm._l((_vm.filerUser),function(v,idx){return _c('div',{key:idx,staticClass:\"weui-cell weui-cell_access\"},[_c('div',{staticClass:\"weui-cell__hd\",staticStyle:{\"position\":\"relative\",\"margin-right\":\"10px\"}},[_c('img',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\",\"display\":\"block\"},attrs:{\"src\":v.headimgurl}})]),_c('div',{staticClass:\"weui-cell__bd\",on:{\"click\":function($event){_vm.showContract(v)}}},[_c('p',[_vm._v(_vm._s(v.name))]),_c('p',{staticStyle:{\"font-size\":\"13px\",\"color\":\"#888888\"}},[_vm._v(_vm._s(v.shortdesc))])]),_c('div',{staticClass:\"weui-cell__ft\"})])}),0):_c('div',[_vm._m(0)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"weui-loadmore weui-loadmore_line\"},[_c('span',{staticClass:\"weui-loadmore__tips\"},[_vm._v(\"暂无数据\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport 'animate.css';\nimport * as user from '@/models/user';\nimport * as contract from '@/models/contract';\nimport * as register from '@/models/register.ts';\nimport * as define from '@/defines/define';\n\nconst CONTRACT_STATE = 4;\ninterface RegisterData extends register.DATA {\n  shortdesc?: string;\n  tmpcontractid?: string;\n}\n\n@Component\nexport default class Manager extends Vue {\n  private show = false;\n  private curState = register.STATE.reviewed;\n  private btns = [\n    { name: '待审核', state: register.STATE.reviewing, selected: false },\n    { name: '已审核', state: register.STATE.reviewed, selected: true },\n    { name: '已退租', state: register.STATE.left, selected: false },\n    { name: '待签约', state: register.STATE.contract, selected: false },\n  ];\n  private classObject = '';\n  private userInfo: register.DATA[] = [];\n  private loginUser: user.User = { openid: '0000' };\n  private newContract: contract.DATA[] = [];\n\n  private mounted() {\n    this.loginUser = user.get() as user.User;\n    this.RequestRegisterData();\n    this.RequestNewContractData();\n  }\n\n  private RequestRegisterData() {\n    const openid = 'all';\n    const host = define.API_HOST;\n    const api = host + '/sunnyhouse/register?openid=' + openid;\n    Vue.axios.get(api).then((response) => {\n      const data = response.data;\n      console.log('RegisterData', data);\n      if (data && data.code === 'SUCCESS') {\n        this.userInfo = data.data as register.DATA[];\n      }\n    });\n  }\n\n  private RequestNewContractData() {\n    const host = define.API_HOST;\n    const api = host + '/sunnyhouse/contract/new/?detail=1';\n    Vue.axios.get(api).then((response) => {\n      const data = response.data;\n      console.log('NewContractData', data);\n      if (data && data.code === 'SUCCESS' && data.data) {\n        this.newContract = data.data as contract.DATA[];\n      }\n    });\n  }\n\n  private showPage(state: number) {\n    if (this.curState === state) {\n      return;\n    }\n    const btn = this.btns[state - 1];\n    this.curState = state;\n    this.btns.forEach((element) => {\n      element.selected = element.state === state;\n    });\n    this.showSwitchAni();\n  }\n\n  private showContract(data: RegisterData) {\n    if (data.tmpcontractid) {\n      this.$router.push('contract?contractid=' + data.tmpcontractid);\n    } else {\n      this.$router.push('profile?openid=' + data.openid);\n    }\n  }\n\n  private showSwitchAni() {\n    this.classObject = 'animated fadeIn faster';\n    setTimeout(() => {\n      this.classObject = '';\n    }, 500);\n  }\n\n  get filerUser() {\n    const userInfoList: RegisterData[] = [];\n    if (this.curState === CONTRACT_STATE) {\n      for (const c of this.newContract) {\n        for (const u of this.userInfo) {\n          if (u.openid === c.openid) {\n            const tmpcontractid = c.contractid;\n            const shortdesc = `${c.room}房间待签约`;\n            userInfoList.push({ ...u, tmpcontractid, shortdesc });\n          }\n        }\n      }\n    } else {\n      for (const one of this.userInfo) {\n        if (one.state === this.curState) {\n          const shortdesc = register.StateDesc[one.state];\n          userInfoList.push({ ...one, shortdesc });\n        }\n      }\n    }\n    return userInfoList;\n  }\n\n  get pageName() {\n    for (const element of this.btns) {\n      if (element.state === this.curState) {\n        return element.name;\n      }\n    }\n  }\n}\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manager.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manager.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Manager.vue?vue&type=template&id=e000bffe&scoped=true&\"\nimport script from \"./Manager.vue?vue&type=script&lang=ts&\"\nexport * from \"./Manager.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Manager.vue?vue&type=style&index=0&id=e000bffe&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e000bffe\",\n  null\n  \n)\n\ncomponent.options.__file = \"Manager.vue\"\nexport default component.exports","export enum STATE {\n  reviewing = 1, // 注册\n  reviewed, // 已审核\n  left, // 已退租\n  contract, // 待签约（客户端状态）\n}\n\nexport const StateDesc: { [key: number]: string } = {\n  [STATE.reviewing]: '待审核',\n  [STATE.reviewed]: '已审核',\n  [STATE.left]: '已退租',\n  [STATE.contract]: '待签约',\n};\n\nexport interface DATA {\n  openid?: string;\n  contractid?: string[];\n  id?: string;\n  name?: string;\n  phone?: string;\n  idimgurl?: string[];\n  state?: STATE;\n  headimgurl?: string;\n}\n\nexport const PropDesc: { [key: string]: string } = {\n  id: '身份证',\n  name: '姓名',\n  phone: '手机号',\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manager.vue?vue&type=style&index=0&id=e000bffe&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manager.vue?vue&type=style&index=0&id=e000bffe&scoped=true&lang=css&\""],"sourceRoot":""}