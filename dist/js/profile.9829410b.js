(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profile"],{4305:function(t,e,i){"use strict";var s,a;i.d(e,"b",function(){return a}),i.d(e,"c",function(){return n}),i.d(e,"a",function(){return r}),function(t){t[t["reviewing"]=1]="reviewing",t[t["reviewed"]=2]="reviewed",t[t["left"]=3]="left",t[t["contract"]=4]="contract"}(a||(a={}));var n=(s={},s[a.reviewing]="待审核",s[a.reviewed]="已审核",s[a.left]="已退租",s[a.contract]="待签约",s),r={id:"身份证",name:"姓名",phone:"手机号"}},c66d:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Profile"},[i("div",{staticClass:"weui-cells__title"},[t._v("个人资料")]),i("div",{staticClass:"weui-cells"},[i("div",{staticClass:"weui-cell"},[i("div",{staticClass:"weui-cell__hd",staticStyle:{position:"relative","margin-right":"10px"}},[i("img",{staticStyle:{width:"50px",display:"block"},attrs:{src:t.registerData.headimgurl}})]),i("div",{staticClass:"weui-cell__bd"},[i("p",[t._v(t._s(t.registerData.name))]),i("p",{staticStyle:{"font-size":"13px",color:"rgb(136, 136, 136)"}},[t._v(t._s(t.StateDesc(t.registerData.state)))])])]),t._l(["name","id","phone"],function(e,s){return i("div",{key:s,staticClass:"weui-cell"},[i("div",{staticClass:"weui-cell__bd"},[i("p",[t._v(t._s(t.PropDesc(e)))])]),i("div",{staticClass:"weui-cell__ft"},[t._v(t._s(t.registerData[e]))])])}),i("div",{staticClass:"weui-cell",attrs:{id:"uploaderCustom"}},[i("div",{staticClass:"weui-cell__bd"},[i("div",{staticClass:"weui-uploader"},[i("div",{staticClass:"weui-uploader__hd"},[i("p",{staticClass:"weui-uploader__title"},[t._v("身份证正反面照片("+t._s(t.registerData.idimgurl?t.registerData.idimgurl.length:0)+"/2)")])]),i("div",{staticClass:"weui-uploader__bd"},[i("ul",{staticClass:"weui-uploader__files",attrs:{id:"uploaderCustomFiles"}},t._l(t.registerData.idimgurl,function(e,s){return i("li",{key:s,staticClass:"weui-uploader__file",style:{"background-image":"url("+e+")"},on:{click:function(i){t.previewImg(e)}}})}),0)])])])])],2),i("div",[i("div",{staticClass:"weui-cells__title"},[t._v("合约列表")]),i("div",{staticClass:"weui-cells"},[t.registerData.contractid&&t.registerData.contractid.length>0?i("div",t._l(t.registerData.contractid,function(e,s){return i("a",{key:s,staticClass:"weui-cell weui-cell_access",on:{click:function(i){t.showContract(e)}}},[i("div",{staticClass:"weui-cell__bd"},[i("p",[t._v("电子合约"+t._s(s+1))])]),i("div",{staticClass:"weui-cell__ft"})])}),0):i("div",[t._m(0)])]),t.isAdmin?i("div",{staticClass:"weui-cells"},[i("a",{staticClass:"weui-cell weui-cell_access",on:{click:function(e){t.addContract()}}},[t._m(1),i("div",{staticClass:"weui-cell__ft"})])]):t._e()]),t.isAdmin?i("div",{staticClass:"weui-btn-area"},[1===t.registerData.state?i("a",{staticClass:"weui-btn weui-btn_primary",on:{click:function(e){t.onSubmit(!0)}}},[t._v("审核通过")]):t._e(),i("a",{staticClass:"weui-btn weui-btn_default",on:{click:function(e){t.onSubmit(!1)}}},[t._v("打回重填")])]):t._e()])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weui-loadmore weui-loadmore_line"},[i("span",{staticClass:"weui-loadmore__tips"},[t._v("暂无数据")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weui-cell__bd"},[i("p",[t._v("新增合约")])])}],n=i("9ab4"),r=i("60a3"),c=i("3a3d"),l=i("4305"),o=i("a29c"),u=i("73ec"),d=i("57c4"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.openid="",e.registerData={},e.isAdmin=!1,e}return n["c"](e,t),e.prototype.mounted=function(){this.isAdmin=u["a"](),this.openid=this.$route.query.openid,this.openid||(this.openid=c["a"]()?c["a"]().openid:""),this.openid?this.RequestRegisterInfo(this.openid):this.$router.push("/login")},e.prototype.RequestRegisterInfo=function(t){var e=this,i=o["a"],s=i+"/sunnyhouse/register?openid="+t;r["b"].axios.get(s).then(function(t){var i=t.data;console.log("RegisterInfo",i),i&&"SUCCESS"===i.code&&(e.registerData=i.data)})},e.prototype.onSubmit=function(t){var e=this,i=o["a"],s=i+"/sunnyhouse/register/state",a=t?l["b"].reviewed:l["b"].reviewing;r["b"].axios.post(s,{openid:this.openid,state:a}).then(function(t){var i=t.data;console.log("RegisterInfo",i),i&&i.msg?d.alert("提交失败:"+i.msg):i&&"SUCCESS"===i.code?e.$router.go(-1):d.alert("服务器异常:"+t)}).catch(function(t){d.alert("网络异常:"+t)})},e.prototype.PropDesc=function(t){return l["a"][t]},e.prototype.StateDesc=function(t){return l["c"][t]},e.prototype.previewImg=function(t){d.gallery(t)},e.prototype.showContract=function(t){this.$router.push("contract?contractid="+t)},e.prototype.addContract=function(){this.$router.push("contract?openid="+this.openid)},e=n["b"]([r["a"]],e),e}(r["b"]),p=_,v=p,w=i("2877"),f=Object(w["a"])(v,s,a,!1,null,null,null);f.options.__file="Profile.vue";e["default"]=f.exports}}]);
//# sourceMappingURL=profile.9829410b.js.map