(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profile"],{c66d:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"Profile"},[e("div",{staticClass:"weui-cells__title"},[t._v("个人资料")]),e("div",{staticClass:"weui-cells"},[e("div",{staticClass:"weui-cell"},[e("div",{staticClass:"weui-cell__hd",staticStyle:{position:"relative","margin-right":"10px"}},[e("img",{staticStyle:{width:"50px",display:"block"},attrs:{src:t.registerData.headimgurl}})]),e("div",{staticClass:"weui-cell__bd"},[e("p",[t._v(t._s(t.registerData.name))]),e("p",{staticStyle:{"font-size":"13px",color:"rgb(136, 136, 136)"}},[t._v(t._s(t.StateDesc(t.registerData.state)))])])]),t._l(["name","id","phone"],function(i,s){return e("div",{key:s,staticClass:"weui-cell"},[e("div",{staticClass:"weui-cell__bd"},[e("p",[t._v(t._s(t.PropDesc(i)))])]),e("div",{staticClass:"weui-cell__ft"},[t._v(t._s(t.registerData[i]))])])}),e("div",{staticClass:"weui-cell",attrs:{id:"uploaderCustom"}},[e("div",{staticClass:"weui-cell__bd"},[e("div",{staticClass:"weui-uploader"},[e("div",{staticClass:"weui-uploader__hd"},[e("p",{staticClass:"weui-uploader__title"},[t._v("身份证正反面照片("+t._s(t.registerData.idimgurl?t.registerData.idimgurl.length:0)+"/2)")])]),e("div",{staticClass:"weui-uploader__bd"},[e("ul",{staticClass:"weui-uploader__files",attrs:{id:"uploaderCustomFiles"}},t._l(t.registerData.idimgurl,function(i,s){return e("li",{key:s,staticClass:"weui-uploader__file",style:{"background-image":"url("+i+")"},on:{click:function(e){t.previewImg(i)}}})}),0)])])])])],2),e("div",[e("div",{staticClass:"weui-cells__title"},[t._v("合约列表")]),e("div",{staticClass:"weui-cells"},[t.registerData.contractid?e("div",t._l(t.registerData.contractid,function(i,s){return e("a",{key:s,staticClass:"weui-cell weui-cell_access",on:{click:function(e){t.showContract(i)}}},[e("div",{staticClass:"weui-cell__bd"},[e("p",[t._v("电子合约"+t._s(s+1))])]),e("div",{staticClass:"weui-cell__ft"})])}),0):e("div",[t._m(0)])]),t.isAdmin?e("div",{staticClass:"weui-cells"},[e("a",{staticClass:"weui-cell weui-cell_access",on:{click:function(i){t.addContract()}}},[t._m(1),e("div",{staticClass:"weui-cell__ft"})])]):t._e()]),t.isAdmin?e("div",{staticClass:"weui-btn-area"},[1===t.registerData.state?e("a",{staticClass:"weui-btn weui-btn_primary",on:{click:function(i){t.onSubmit(!0)}}},[t._v("审核通过")]):t._e(),e("a",{staticClass:"weui-btn weui-btn_default",on:{click:function(i){t.onSubmit(!1)}}},[t._v("打回重填")])]):t._e()])},a=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"weui-loadmore weui-loadmore_line"},[e("span",{staticClass:"weui-loadmore__tips"},[t._v("暂无数据")])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"weui-cell__bd"},[e("p",[t._v("新增合约")])])}],l=e("9ab4"),c=e("60a3"),n=e("3a3d"),r=e("4305"),o=e("a29c"),u=e("73ec"),d=e("57c4"),_=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.openid="",i.registerData={},i.isAdmin=!1,i}return l["c"](i,t),i.prototype.mounted=function(){this.isAdmin=u["a"](),this.openid=this.$route.query.openid,this.openid||(this.openid=n["a"]()?n["a"]().openid:""),this.openid?this.RequestRegisterInfo(this.openid):this.$router.push("/login")},i.prototype.RequestRegisterInfo=function(t){var i=this,e=o["a"],s=e+"/sunnyhouse/register?openid="+t;c["c"].axios.get(s).then(function(t){var e=t.data;console.log("RegisterInfo",e),e&&"SUCCESS"===e.code&&(i.registerData=e.data)})},i.prototype.onSubmit=function(t){var i=this,e=o["a"],s=e+"/sunnyhouse/register/state",a=t?r["b"].reviewed:r["b"].reviewing;c["c"].axios.post(s,{openid:this.openid,state:a}).then(function(t){var e=t.data;console.log("RegisterInfo",e),e&&e.msg?d.alert("提交失败:"+e.msg):e&&"SUCCESS"===e.code?i.$router.go(-1):d.alert("服务器异常:"+t)}).catch(function(t){d.alert("网络异常:"+t)})},i.prototype.PropDesc=function(t){return r["a"][t]},i.prototype.StateDesc=function(t){return r["c"][t]},i.prototype.previewImg=function(t){d.gallery(t)},i.prototype.showContract=function(t){this.$router.push("contract?contractid="+t)},i.prototype.addContract=function(){this.$router.push("contract?openid="+this.openid)},i=l["b"]([c["a"]],i),i}(c["c"]),p=_,v=p,w=e("2877"),f=Object(w["a"])(v,s,a,!1,null,null,null);f.options.__file="Profile.vue";i["default"]=f.exports}}]);
//# sourceMappingURL=profile.37ee3fea.js.map